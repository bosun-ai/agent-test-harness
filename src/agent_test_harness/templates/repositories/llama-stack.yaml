name: llama-stack
url: https://github.com/meta-llama/llama-stack
after_clone:
  setup_script: |
    echo "Set up llama-stack repository" >> /tmp/setup.log;
    apt-get update >> /tmp/setup.log;
    apt-get install -y python3 python3-pip python3-venv curl >> /tmp/setup.log;
    git clone https://github.com/meta-llama/llama-stack.git;
    cd llama-stack;
    python3 -m venv venv >> /tmp/setup.log;
    . venv/bin/activate >> /tmp/setup.log;
    pip install -r requirements.txt >> /tmp/setup.log;

test_command: "\n  . venv/bin/activate && \\n  pytest tests --cov=llama --cov-report=xml:\ 
  coverage.xml >> /tmp/test.log"
coverage_report_path: llama-stack/coverage.xml
